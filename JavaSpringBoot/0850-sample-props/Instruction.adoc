== ハンズオン
=== 概要
外部化した設定値を読込んで、アプリケーションで使用します。@Valueの手段を確認した後、@ConfigurationPropertiesの手段に変更します。

=== 手順
. SampleApplicationクラスを実行してみましょう。コンソール画面に表示される「ディスカウントされた金額」は、DiscountServiceImplが計算しています。

. DiscountServiceImplクラスの中で、ディスカウント率とディスカウント上限は、外部化した設定値から取得しています。実際の値がどこで設定されているか分かりますか？

. 設定値を変えてみて、きちんと反映されるか確認してみましょう。

. @Valueを使用した場合、プロパティ名の先頭文字が冗長になりがちです。@ConfigurationPropertiesを使用した方法に変えてみましょう。設定値を保持するクラスとして、DiscountPropertiesクラスが用意されています。

=== オプション
. 本番用とステージング用で、それぞれ「application-プロファイル名.properties」ファイルを作成し、設定値を変えてください。アプリケーション実行時に有効にするプロファイル名を切り替えて、読み込まれる設定値が変わることを確認しましょう。有効にするプロファイルは、システムプロパティで指定できます。システムプロパティの指定方法方は、「0451-training-profile」プロジェクトのInstrucation.adocに記載されています。

. システムプロパティを使用してディスカウントの上限を上書きしてみましょう。Springは、プロパティファイルから読み込んだプロパティと、システムプロパティから読み込んだプロパティで名前が重複した場合、システムプロパティの方の値を採用します。